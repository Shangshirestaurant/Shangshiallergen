:root{--brand:#c5a163;--brand-dark:#a88849;--text:#f3f2ec;--muted:#bfb7a6;--toolbar:0px}
*{box-sizing:border-box}
body{margin:0;background:radial-gradient(1400px 700px at 70% -200px,#151519,#0a0a0b 60%,#070708);color:var(--text);font-family:-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
.shell{max-width:1200px;margin:0 auto;padding:0 20px}

/* Centered logo header */
.nav{position:sticky;top:0;z-index:10;backdrop-filter:blur(10px);background:rgba(10,10,11,.6);border-bottom:1px solid #141418}
.nav-inner{display:flex;justify-content:center;align-items:center;padding:8px 0}
.brand img{width:48px;height:48px;border-radius:50%;border:1px solid #2a2a30}

/* Hero */
.hero{padding:36px 0 28px;border-bottom:1px solid #141418;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent)}
.hero-grid{display:grid;grid-template-columns:1.15fr .85fr;gap:22px;align-items:center}
@media (max-width:980px){.hero-grid{grid-template-columns:1fr}}
.hero h1{font-family:Georgia,serif;font-size:clamp(28px,4.6vw,54px);margin:0 0 8px}
.hero p{color:var(--muted);margin:0 0 14px}
.btn{display:inline-block;padding:12px 16px;border-radius:12px;border:1px solid #2a2a30;text-decoration:none;font-weight:700}
.btn.primary{background:linear-gradient(180deg,var(--brand),var(--brand-dark));color:#161617;border-color:#8f6e38;box-shadow:0 10px 30px rgba(197,161,99,.35)}
.btn.ghost{background:transparent;color:var(--text)}
.hero-logo{width:176px;height:176px;border-radius:50%;display:block;margin:10px auto;border:1px solid #2a2a30;background:#0c0c10;padding:18px;box-shadow:0 18px 60px rgba(0,0,0,.45)}

.section{padding:28px 0}
.main-grid{display:grid;grid-template-columns:1fr;gap:18px}
.panel{background:linear-gradient(180deg,#111114,#0d0d10);border:1px solid #1f1f26;border-radius:18px;padding:16px;box-shadow:0 18px 60px rgba(0,0,0,.45)}
.toolbar{display:flex;gap:10px;align-items:center;margin-bottom:10px}
.toolbar.smallgap{gap:8px;margin-top:6px}
.search{flex:1;padding:12px 14px;border-radius:12px;border:1px solid #2a2a32;background:#0c0c10;color:var(--text)}
.cards{display:grid;gap:12px}
.card{padding:14px;border:1px solid #1f1f26;border-radius:16px;background:linear-gradient(180deg,#111114,#0e0e11)}
.badges{display:flex;gap:6px;flex-wrap:wrap;margin:6px 0 8px}
.badge{display:inline-block;padding:4px 8px;border-radius:999px;background:#0d0d12;border:1px solid #2a2a32;font-family:ui-monospace,Menlo,Consolas,monospace;font-size:.82rem}
.tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.tag{padding:6px 10px;border:1px solid #30303a;border-radius:999px;background:#0b0b0e;font-size:.9rem}
.note{color:var(--muted)}

/* Bottom-sheet allergen selector with gold chevron */
.bottom-sheet{
  position:fixed; left:12px; right:12px;
  bottom:calc(12px + env(safe-area-inset-bottom) + var(--toolbar,0px));
  z-index:2147483647; border-radius:16px; overflow:hidden;
  background:rgba(12,12,16,.94); box-shadow:0 18px 40px rgba(0,0,0,.55);
  transition:max-height .28s ease, transform .28s ease;
  max-height:86px; /* peek height */
}
.bottom-sheet.expanded{ max-height:min(86vh, 720px); }
.handle{
  display:flex; align-items:center; justify-content:center; gap:10px;
  height:56px; width:100%; border:none; background:transparent; color:var(--text);
  font-weight:800; letter-spacing:.02em; -webkit-tap-highlight-color:transparent;
}
.handle-text{ color:var(--text); }
.chev{
  display:inline-block; width:16px; height:16px;
  border-right:2px solid var(--brand); border-bottom:2px solid var(--brand);
  transform:rotate(315deg); transition:transform .22s ease;
  margin-top:2px;
}
.bottom-sheet.expanded .chev{ transform:rotate(135deg); }

.sheet-body{ padding:6px 10px 12px; }
.ms-menu{ background:#0e0e12; border:1px solid #2a2a32; border-radius:14px; box-shadow:0 18px 60px rgba(0,0,0,.45); padding:10px; max-height:320px; overflow:auto; }
.ms-list{ display:grid; gap:8px; }
.ms-item{ display:flex; align-items:center; gap:10px; padding:8px 10px; border-radius:10px; border:1px solid #222228; background:#0b0b0e; }
.ms-item input{ width:18px; height:18px; accent-color:var(--brand); }
.ms-item .code{ font-weight:800; width:2.6ch; text-align:center; }
.ms-item .name{ color:var(--muted); }

/* Mode chips */
.modes{ display:flex; gap:10px; flex-wrap:wrap; margin:6px 0 12px; }
.chip{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border:1px solid #2a2a32; border-radius:999px; background:#0c0c10; font-weight:700; }
.chip input{ width:16px; height:16px; accent-color:var(--brand); }

/* Tablet (iPad) floating width */
@media (min-width: 768px) and (max-width: 1199px){
  .bottom-sheet{
    left:50%; right:auto; transform:translateX(-50%);
    width:min(820px, 92vw); border:1px solid rgba(197,161,99,.25);
    backdrop-filter: blur(8px);
  }
}

/* Optional: on big desktop, make it a neat floating panel too */
@media (min-width: 1200px){
  .bottom-sheet{
    left:50%; right:auto; transform:translateX(-50%);
    width:min(980px, 90vw); border:1px solid rgba(197,161,99,.25);
  }
}

.footer{border-top:1px solid #141418;padding:16px 0;color:var(--muted);text-align:center}
